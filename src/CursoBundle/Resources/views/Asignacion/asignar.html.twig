{% extends 'base_page.html.twig' %}

{% block body_content %}

	<form action="{{ path('asignacion_search',{'username':app.user.username})}}" method="get">
 
 			<div id="custom-search-input">
                <div class="input-group col-md-12">
                    <input type="search" name="search" class="form-control input-lg" placeholder="Buscar" />
                    <span class="input-group-btn">
                        <button class="btn btn-info btn-lg" type = "submit">
                            <i class="glyphicon glyphicon-search"></i>
                        </button>
                    </span>
                </div>
            </div>
   
    </form>

    	{% if query != null and error == 0 %}
		<h6 class="alert alert-success page-alert" id="alert-1">
	        <button type="button" class="close"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
	        <strong>Éxito!</strong> Curso Encontrado.
    	</h6>
		<h1>Resultado Búsqueda</h1>
		
		<table class = "table table-striped table-hover">
			<thead>
				<tr>
					<th>Curso</th>
					<th>Acción</th>
				</tr>
			</thead>
			<tbody>
				{% for curso in query %}
				{% for cu in cursos %}
				<tr>
				
					<td> {{ curso }} </td>
					<td> 
						{% if cu != curso %}
						<a class= "btn btn-default btn-xs btn-warning" href="{{ path('add_asignacion', { 'usuario_id': app.user.id , 'curso_id':curso.id}) }}">
							Asignar Curso
						{% endif %}
						</a>
					</td>
				
				
				</tr>
				{% endfor %}	
				{% endfor %}
			</tbody>
		</table>
		{% endif %}

		{% if error == 1 %}

		<h3 class="alert alert-danger page-alert" id="alert-4">
	        <button type="button" class="close"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
	        <strong>Error!</strong> Curso no encontrado.
    	</h3>
		{% endif %}


    <h1>Cursos Disponibles</h1>
	<table class = "table table-striped table-hover">
		<thead>
			<tr>
				<th>Curso</th>
				<th>Acción</th>
			</tr>
		</thead>
		<tbody>
			{% for curso in cursos %}
			<tr>
			
				<td> {{ curso.nombreCurso }} </td>
				<td> 
					<a class= "btn btn-default btn-xs btn-warning" href="{{ path('add_asignacion', { 'usuario_id': app.user.id , 'curso_id':curso.id}) }}">
						Asignar Curso
					</a>
				</td>
			
			
			</tr>	
			{% endfor %}
		</tbody>
	</table>
	{# comment bundle 
	{% include 'FOSCommentBundle:Thread:async.html.twig' with {'id': 'foo'} %}
	#}
{% endblock %}
